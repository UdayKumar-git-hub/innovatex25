// This file is located at: /api/health.js

export default function handler(req, res) {
  // --- This is the CORS Fix ---
  // This line is the "guest list" that allows your Netlify frontend to make requests.
  res.setHeader('Access-Control-Allow-Origin', 'https://rhinnovatex.netlify.app');
  // These lines specify which types of requests and headers are allowed.
  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');

  // This handles a "pre-flight" request that browsers send first to check permissions.
  if (req.method === 'OPTIONS') {
    res.status(200).end();
    return;
  }

  // --- This is the 404 Fix ---
  // This is the actual response for the /api/health endpoint.
  res.status(200).json({ status: 'ok' });
}